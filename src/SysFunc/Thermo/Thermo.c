/* -----------------------------------------------------------------------------
　Include
------------------------------------------------------------------------------*/
#include "Thermo.h"
#include "Bme280.h"

/* -----------------------------------------------------------------------------
　Define
------------------------------------------------------------------------------*/

/* -----------------------------------------------------------------------------
　Typedef
------------------------------------------------------------------------------*/


/* -----------------------------------------------------------------------------
　Global
------------------------------------------------------------------------------*/
static F32 F32_Temperature = 0.0;
static F32 F32_Humidity = 0.0;
static F32 F32_Pressure = 0.0;

/* 将来的に拡張する */
// static F32 F32_Temperature_Max = 0.0;
// static F32 F32_Temperature_Min = 0.0;
// static F32 F32_Humidity_Max = 0.0;
// static F32 F32_Humidity_Min = 0.0;
// static F32 F32_Pressure_Max = 0.0;
// static F32 F32_Pressure_Min = 0.0;

/* -----------------------------------------------------------------------------
　Prototype
------------------------------------------------------------------------------*/


/* -----------------------------------------------------------------------------
　Function  : Thermo_Init
　Memo      : 初期化
　Date      : 2021.09.01
------------------------------------------------------------------------------*/
BOOL Thermo_Init()
{
    F32_Temperature = 0.0;
    F32_Humidity = 0.0;
    F32_Pressure = 0.0;
    return OK;
}
/* -----------------------------------------------------------------------------
　Function  : Thermo_Measure
　Memo      : 計測実施
　Date      : 2021.09.01
------------------------------------------------------------------------------*/
void Thermo_Measure()
{
    Bme280_Measure();
    F32_Temperature = Bme280_Get_Temperature();
    F32_Humidity = Bme280_Get_Humidity();
    F32_Pressure = Bme280_Get_Pressure();
}
/* -----------------------------------------------------------------------------
　Function  : Thermo_Get
　Memo      : 最新の温度・湿度・気圧の取得
　Date      : 2021.09.01
------------------------------------------------------------------------------*/
F32 Thermo_Get_Temperature()
{
    return F32_Temperature;
}
F32 Thermo_Get_Humidity()
{
    return F32_Humidity;
}
F32 Thermo_Get_Pressure()
{
    return F32_Pressure;
}
